# install
http://ivanbernat.com/guides/install-rails-3-with-sqlite3-mysql-ubuntu-10/

NOTE: when running `rvm install 1.9.2`, now ruby is installed of course, but also rubygems, which is great.

## gem issue

ERROR: when running `gem install rails`, the error was 'no file to load -- zlib', the fix is:

    sudo apt-get install zlib1g zlib1g-dev 

    cd .rvm/src/ruby-1.9.2-p180/ext/zlib

    ruby extconf.rb

    make

    sudo make install

everything else works perfectly well.

NOTE: similar problem also happens to __openssl__ and __libreadline__, but till now I see none, fixes go here: 
http://intertwingly.net/blog/2009/09/13/RVM-for-Ubuntu-Tip
## change .bashrc for rvm
NOTE: rvm hates the `&&return` in .bashrc

## rake issue 
Error looks:

    'task' undefined

or:

    rails rake problems: uninitialized constant Rake::DSL 


this is a reported bug for rake 0.9, I fix this by downgrade it to 0.8.7

add this in to Gemfile:

    gem 'rake', '0.8.7'

and then `bundle update`, like suggested here:
http://stackoverflow.com/questions/5287121/undefined-method-task-using-rake-0-9-0/5290331#5290331

and then run this:

    gem uninstall rake -v 0.9.0


and this link is useful when you have to use 0.9:
http://stackoverflow.com/questions/6085610/rails-rake-problems-uninitialized-constant-rakedsl


## reboot

after reboot `ruby` and `bundle` are both not found, the fix is easy:

    rvm use 1.9.2 # rvm 1.9.2 --default

and rake is now 0.9 again, fix:
    
    gem uninstall rake -v 0.9
    gem install rake -v 0.8.7

    


# new app

    rails new blog -d mysql
    rake doc:guides # need a burdle install here

then I followed the doc, and everything works well.

## db on 10.10-server and 10.04-desktop

    sudo apt-get install mysql-server # client and things are installed as deps
    sudo apt-get install phpmyadmin # php-cli and things are installed as deps

and now:

    root@lover:/etc/phpmyadmin# vim config.inc.php 

uncomment this line:

    $cfg['Servers'][$i]['AllowNoPassword'] = TRUE;

and add a link:

    peter@lover:/var/www$ ln -s /usr/share/phpmyadmin/

now point firefox at:

    http://happypeter.org/phpmyadmin/

you can login as root with no passwd

### connect mysql to rails

    sudo apt-get install libmysqlclient16 libmysqlclient16-dev

is needed for:

    sudo gem install mysql

in turn is needed to:

    rake db:create
    rake db:migrate 
## docs
#
you actually get a README in `myapp/`
and you run:

    rake doc:guides

you get nice html docs in `doc/`

These docs surely match the exe running.
This is important

## apache

    sudo gem install passenger
    sudo passenger-install-apache2-module 
    sudo vim /etc/apache2/httpd.conf

and you difinitely need:

    peter@peter-Vostro:~/xxx/blog$ rake RAILS_ENV=production db:create
    (in /home/peter/xxx/blog)
    peter@peter-Vostro:~/xxx/blog$ rake RAILS_ENV=production db:migrate

now firefox www.whatever_in_etchosts_for_localhost.com works, but phpmyadmin no longer works
